<!DOCTYPE html>
<html>
<style>
table, th , td  {
  border: 1px solid grey;
  border-collapse: collapse;
  font-size:36;
  padding: 5px;
}
table tr:nth-child(odd)	{
  background-color: #f1f1f1;
}
table tr:nth-child(even) {
  background-color: #ffffff;
}
</style>


<script src= "http://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
<body>
<div ng-app="myApp" ng-controller="customersCtrl"> 
<h1> All in one Dashboard </h1>
<table>
	<th>Build ID</th>
	<th>Date and Timestamp</th>
	<th>Unit Test Result</th>
	<th>Integration Test Result</th>
	<th>Build Result</th>
	<th>Deploy Result</th>
	<th>Overall Health Result</th>
  <tr ng-repeat="x in names">
    <td>{{ x.buildid}}</td>
    <td>{{x.created_at}}</td>
    <td ng-style="{'background-color':((x.unitresults=='pass' || x.unitresults=='PASS')?'#90EE90':(x.unitresults==null)?'lightgray':'#ff6666')}">{{x.unitresults}}</td>
    <td ng-style="{'background-color':((x.integrationresults=='pass' || x.integrationresults=='PASS')?'#90EE90':(x.integrationresults==null)?'lightgray':'#ff6666')}">{{x.integrationresults}}</td>
   <td ng-style="{'background-color':((x.buildresults=='pass' || x.buildresults=='PASS')?'#90EE90':(x.buildresults==null)?'lightgray':'#ff6666')}">{{x.buildresults}}</td>
    <td ng-style="{'background-color':(x.deployresults=='pass' || x.deployresults=='PASS'?'#90EE90':(x.deployresults==null)?'lightgray':'#ff6666')}">{{x.deployresults}}</td>
    <td ng-style="{'background-color':((x.healthresults=='pass' || x.healthresults=='PASS')?'#90EE90':(x.healthresults==null)?'lightgray':'#ff6666')}">{{x.healthresults}}</td>
  </tr>
</table>


</div>
<script>
var app = angular.module('myApp', []);
app.controller('customersCtrl', function($scope, $http) {
	$http.defaults.useXDomain = true;
	$http.get('http://finracrd.elasticbeanstalk.com/results', {
    	//headers: {'Authorization': 'Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='}
	}).success(function (response) {$scope.names = response}); 
});
</script>
</body>
</html>
